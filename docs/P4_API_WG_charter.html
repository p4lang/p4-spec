<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta name="generator" content="Madoko, version 1.2.3" />
  <meta name="viewport" content="initial-scale=1.0" />
  <title>P4 API WG Charter</title>
  <style type="text/css"  class="link">
  /*# sourceURL=madoko.css */
  
  .madoko .toc>.tocblock .tocblock .tocblock {
    margin-left: 2.25em;
  }
  .madoko .toc>.tocblock .tocblock {
    margin-left: 1.5em;
  }
  .madoko .toc-contents>.tocblock>.tocitem {
    font-weight: bold;
  }
  .madoko .toc {
    margin-top: 1em;
  }
  .madoko p.para-continue {
    margin-bottom: 0pt;
  }
  .madoko .para-block+p {
    margin-top: 0pt;
  }
  .madoko ul.para-block, .madoko ol.para-block {
    margin-top: 0pt;
    margin-bottom: 0pt;
  }
  .madoko ul.para-end, .madoko ol.para-end {
    margin-bottom: 1em;
  }
  .madoko dl {
    margin-left: 0em;
  }
  .madoko blockquote {
    font-style: italic;
  }
  .madoko a.localref {
    text-decoration: none;
  }
  .madoko a.localref:hover {
    text-decoration: underline;
  }
  .madoko .footnotes {
    font-size: smaller;
    margin-top: 2em;
  }
  .madoko .footnotes hr {
    width: 50%;
    text-align: left;
  }
  .madoko .footnote {
    margin-left: 1em;
  }
  .madoko .footnote-before {
    margin-left: -1em;
    width: 1em;
    display: inline-block;
  }
  .madoko .align-center, .madoko .align-center>p {
    text-align: center !important;
  }
  .madoko .align-center pre {
    text-align: left;
  }
  .madoko .align-center>* {
    margin-left: auto !important;
    margin-right: auto !important;
  }
  .madoko .align-left, .madoko .align-left>p {
    text-align: left !important;
  }
  .madoko .align-left>* {
    margin-left: 0pt !important;
    margin-right: auto !important;
  }
  .madoko .align-right, .madoko .align-right>p {
    text-align: right !important;
  }
  .madoko .align-right>* {
    margin-left: auto !important;
    margin-right: 0pt !important;
  }
  .madoko .align-center>table,
  .madoko .align-left>table,
  .madoko .align-right>table {
    text-align: left !important;
  }
  .madoko .equation-before {
    float: right;
  }
  .madoko .bibitem {
    font-size: smaller;
  }
  .madoko .bibsearch {
    font-size: x-small;
    text-decoration:none;
    color: black;
    font-family: "Segoe UI Symbol", Symbola, serif;
  }
  .madoko .block, .madoko .figure, .madoko .bibitem, .madoko .equation, .madoko div.math {
    margin-top: 1ex;
    margin-bottom: 1ex;
  }
  .madoko .figure {
    padding: 0.5em;
    margin-left: 0pt;
    margin-right: 0pt;
  }
  .madoko .hidden {
    display: none;
  }
  .madoko .invisible {
    visibility: hidden;
  }
  .madoko.preview .invisible {
    visibility: visible;
    opacity: 0.5;
  }
  .madoko code.code, .madoko span.code {
    white-space: pre-wrap;
  }
  .madoko hr, hr.madoko {
    border: none;
    border-bottom: black solid 1px;
    margin-bottom: 0.5ex;
  }
  .madoko .framed>*:first-child {
    margin-top: 0pt;
  }
  .madoko .framed>*:last-child {
    margin-bottom: 0pt;
  }
  .madoko ul.list-style-type-dash {
      list-style-type: none !important;
  }
  .madoko ul.list-style-type-dash > li:before {
      content: "\2013";
      position: absolute;
      margin-left: -1em;
  }
  .madoko table.madoko {
    border-collapse: collapse;
  }
  .madoko td, .madoko th {
    padding: 0ex 0.5ex;
    margin: 0pt;
    vertical-align: top;
  }
  .madoko .cell-border-left {
    border-left: 1px solid black;
  }
  .madoko .cell-border-right {
    border-right: 1px solid black;
  }
  .madoko thead>tr:first-child>.cell-line,
  .madoko tbody:first-child>tr:first-child>.cell-line {
    border-top: 1px solid black;
    border-bottom: none;
  }
  .madoko .cell-line, .madoko .cell-double-line {
    border-bottom: 1px solid black;
    border-top: none;
  }
  .madoko .cell-double-line {
    border-top: 1px solid black;
    padding-top: 1.5px !important;
  }
  .madoko .input-mathpre .MathJax_Display {
    text-align: left !important;
  }
  .madoko div.input-mathpre {
    text-align: left;
    margin-top: 1.5ex;
    margin-bottom: 1ex;
  }
  .madoko .math-rendering {
    text-align: left;
    white-space: pre;
    color: gray;
  }
  .madoko .mathdisplay {
    text-align: center;
  }
  .madoko span.math-rendering {
    display:inline-block;
    width:8em;
    overflow-x:auto;
    font-size:70%;
  }
  .madoko span.math-rendering::-webkit-scrollbar {
    width:4px;
  }
  .madoko .pretty table {
    border-collapse: collapse;
  }
  .madoko .pretty td {
    padding: 0em;
  }
  .madoko .pretty td.empty {
    min-width: 1.5ex;
  }
  .madoko .pretty td.expander {
    width: 100em;
  }
  body.madoko, .madoko .serif {
    font-family: Cambria,"Times New Roman","Liberation Serif","Times",serif;
  }
  .madoko .sans-serif {
    font-family: "Calibri", "Optima", sans-serif;
  }
  .madoko .symbol {
    font-family: "Segoe UI Symbol", Symbola, serif;
  }
  body.madoko {
    -webkit-text-size-adjust: 100%;       
    text-rendering: optimizeLegibility;
  }
  body.madoko {
    max-width: 88ex; 
    margin: 1em auto;
    padding: 0em 2em;
  }
  body.preview.madoko {
    padding: 0em 1em;
  }
  .madoko p {
    text-align: justify;
  }
  .madoko h1, .madoko h2, .madoko h3, .madoko h4 {
    margin-top: 1.22em;
    margin-bottom: 1ex;
  }
  .madoko h1+p, .madoko h2+p, .madoko h3+p, .madoko h4+p, .madoko h5+p  {
    margin-top: 1ex;
  }
  .madoko h5, .madoko h6 {
    margin-top: 1ex;
    font-size: 1em;
  }
  .madoko h5 {
    margin-bottom: 0.5ex;
  }
  .madoko h5 + p {
    margin-top: 0.5ex;
  }
  .madoko h6 {
    margin-bottom: 0pt;
  }
  .madoko h6 + p {
    margin-top: 0pt;
  }
  .madoko pre, .madoko code, .madoko kbd, .madoko samp, .madoko tt,
  .madoko .monospace, .madoko .token-indent, .madoko .reveal pre, .madoko .reveal code, .madoko .email {
    font-family: Consolas,"Andale Mono WT","Andale Mono",Lucida Console,Monaco,monospace,monospace;
    font-size: 0.85em;
  }
  .madoko pre code, .madoko .token-indent {
    font-size: 0.95em;
  }
  .madoko pre code {
    font-family: inherit !important;
  }
  .madoko ol.linenums li {
    background-color: white;
    list-style-type: decimal;
  }
  .madoko .remote {
    background-color: #F0FFF0;
  }
  .madoko .remote + * {
    margin-top: 0pt;
  }
  @media print {
    body.madoko {
      font-size: 10pt;
    }
    @page {
      margin: 1in 1.5in;
    }
  }
  @media only screen and (max-device-width:1024px) {
    body.madoko {
      padding: 0em 0.5em;
    }
    .madoko li {
      text-align: left;
    }
  }
  
    </style>
  
  </head>
<body class="madoko">

<div class="body madoko" style="line-adjust:0">

<div class="titleblock align-center para-block" data-line="3" style="text-align:center;line-adjust:0">
<div class="titleheader align-center" data-line="3" style="text-align:center;line-adjust:0">
<div class="title para-block" data-line="3" style="font-size:xx-large;font-weight:bold;margin-bottom:0.5ex;line-adjust:0"><span data-line="3"></span>P4 API WG Charter</div></div></div><h2 id="sec-working-group-name" class="h1" data-line="5" data-heading-depth="1" style="display:block"><span data-line="5"></span><span class="heading-before"><span class="heading-label">1</span>.&#8194;</span><span data-line="5"></span>Working Group Name</h2>
<p class="p noindent" data-line="7"><span data-line="7"></span>P4 API Working Group
</p><h2 id="sec-chairs" class="h1" data-line="9" data-heading-depth="1" style="display:block"><span data-line="9"></span><span class="heading-before"><span class="heading-label">2</span>.&#8194;</span><span data-line="9"></span>Chairs</h2>
<ul class="ul list-dash compact" data-line="11">
<li class="li ul-li list-dash-li compact-li" data-line="11"><span data-line="11"></span>Antonin Bas <span data-line="11"></span><a href="mailto:antonin@barefootnetworks.com" class="texturl monospace">antonin@&#8203;barefootnetworks.&#8203;com</a><span data-line="11"></span>
</li>
<li class="li ul-li list-dash-li compact-li" data-line="12"><span data-line="12"></span>Lorenzo Vicisano <span data-line="12"></span><a href="mailto:vicisano@google.com" class="texturl monospace">vicisano@&#8203;google.&#8203;com</a><span data-line="12"></span>
</li></ul>
<h2 id="sec-mailing-lists" class="h1" data-line="14" data-heading-depth="1" style="display:block"><span data-line="14"></span><span class="heading-before"><span class="heading-label">3</span>.&#8194;</span><span data-line="14"></span>Mailing Lists</h2>
<ul class="ul list-dash compact" data-line="16">
<li class="li ul-li list-dash-li compact-li" data-line="16"><span data-line="16"></span>To subscribe, visit
<span data-line="17"></span><a href="http://lists.p4.org/mailman/listinfo/p4-api_lists.p4.org">http://lists.p4.org/mailman/listinfo/p4-api_lists.p4.org</a><span data-line="17"></span>
</li>
<li class="li ul-li list-dash-li compact-li" data-line="18"><span data-line="18"></span>To post a message to all list members, end an email to <span data-line="18"></span><a href="mailto:p4-api@lists.p4.org" class="texturl monospace">p4-&#8203;api@&#8203;lists.&#8203;p4.&#8203;org</a><span data-line="18"></span>
</li></ul>
<h2 id="sec-description-of-the-working-group" class="h1" data-line="20" data-heading-depth="1" style="display:block"><span data-line="20"></span><span class="heading-before"><span class="heading-label">4</span>.&#8194;</span><span data-line="20"></span>Description of the Working Group</h2>
<p class="p noindent" data-line="22"><span data-line="22"></span>The P4 language is designed to specify the dataplane of networking devices by
combining a number of core abstractions, such as parsers, tables and externs.
These abstractions instantiate pipeline objects, many of which needs to be
managed at runtime to configure the desired forwarding behavior in the target
device. As an example, the creation and deletion of entries in match-action
tables is the most notable use case of P4 object management.
</p>
<p class="p indent" data-line="29"><span data-line="29"></span>Since the runtime management of P4 objects is out of the scope of the P4
language itself, this Working Group is chartered to define protocol-independent
runtime APIs for P4 device management. To complement these P4 runtime APIs, this
working group will also specify the relationship between P4 runtime objects and
entities that appear in the switch configuration, such as ports and
platform-level functions. A practical way to achieve this would be, for example,
to define an<span data-line="35"></span>&nbsp;<a href="http://http://openconfig.net/">OpenConfig</a><span data-line="35"></span> schema specific to a
switch that exposes a P4 runtime API.
</p>
<p class="p indent" data-line="38"><span data-line="38"></span>A P4 runtime API should support two main pieces of functionality:
</p>
<ul class="ul list-dash compact" data-line="40">
<li class="li ul-li list-dash-li compact-li" data-line="40"><span data-line="40"></span>managing the behavior of the dataplane objects described in a P4 program and
retrieving information from these objects when needed. For example, in the case
of match-action tables, adding entries to the table, removing them and
retrieving the table content.
</li>
<li class="li ul-li list-dash-li compact-li" data-line="44"><span data-line="44"></span>(re)configuring the forwarding pipeline in a P4-programmable device, by
pushing a new P4 program to the device.
</li></ul>

<p class="p noindent" data-line="47"><span data-line="47"></span>We anticipate that the above functionality will require defining at least the
following features:
</p>
<ul class="ul list-dash compact" data-line="50">
<li class="li ul-li list-dash-li compact-li" data-line="50"><span data-line="50"></span>runtime management of P4 tables
</li>
<li class="li ul-li list-dash-li compact-li" data-line="51"><span data-line="51"></span>runtime management of Portable Standard Architecture (PSA) externs
</li>
<li class="li ul-li list-dash-li compact-li" data-line="52"><span data-line="52"></span>ability to extend the API to support vendor-specific externs
</li>
<li class="li ul-li list-dash-li compact-li" data-line="53"><span data-line="53"></span>session management, which includes updating the P4 program running on the
device and packet IO between the control-plane and the device.
</li></ul>
<h2 id="sec-deliverables" class="h1" data-line="56" data-heading-depth="1" style="display:block"><span data-line="56"></span><span class="heading-before"><span class="heading-label">5</span>.&#8194;</span><span data-line="56"></span>Deliverables</h2>
<p class="p noindent" data-line="58"><span data-line="58"></span>The first item of work for the Working Group will be to define a
vendor-independent, protocol-independent way for a control-plane to configure,
program and control a P4 switch. To achieve this, the Working Group will deliver
at least the followings:
</p>
<ol class="ol compact" data-line="63">
<li class="li ol-li compact-li" data-line="63"><span data-line="63"></span>A RPC interface definition (serialization format and RPC protocol)
implementing a P4 runtime API. The first RPC interface delivered by the Working
Group is called P4Runtime and will target a remote controller.
</li>
<li class="li ol-li compact-li" data-line="66"><span data-line="66"></span>A specification document defining the semantics of P4Runtime.
</li>
<li class="li ol-li compact-li" data-line="67"><span data-line="67"></span>A specification of the configuration bindings necessary for P4 runtime
control expressed as an OpenConfig schema in YANG format.
</li>
<li class="li ol-li compact-li" data-line="69"><span data-line="69"></span>A working opensource implementation of 1. and 3., including a client and
server libraries and bindings for the<span data-line="70"></span>&nbsp;<a href="https://github.com/p4lang/behavioral-model">p4lang software
switch</a><span data-line="71"></span>.
</li></ol>
<span data-line=""></span></div>
</body>

</html>
